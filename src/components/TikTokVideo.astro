---
interface Props {
  url: string
  title: string
  category: string[]
}

const { url, title, category } = Astro.props

const response = await fetch(`https://www.tiktok.com/oembed?url=${url}`)
const data = await response.json()
---

<article
  class='rounded-lg shadow-sm overflow-hidden bg-white p-4 w-full max-w-[400px] mx-auto'
  data-category={category.join(',')}
>
  <h6 class='text-lg font-medium mb-3'>{title}</h6>
  <div class='aspect-[9/16] w-full'>
    <Fragment set:html={data.html} />
  </div>
</article>
